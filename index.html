<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trending Tokens</title>
</head>
<body style="background:#121212; color:#fff; font-family:sans-serif; padding:1rem;">

<h1 style="color:#55ff99;">Trending Tokens Tracker</h1>
<pre id="log">Loading tokens...</pre>

<script>
const log = document.getElementById('log');
const trackerApiKey = 'e6d255f4-d3ce-457f-b149-883b2f3e93e2';

async function fetchTokens() {
  try {
    const response = await fetch('https://data.solanatracker.io/search?name=&symbol=', {
      headers: { 'x-api-key': trackerApiKey }
    });
    const data = await response.json();
    const tokens = data.tokens || [];

    if(tokens.length === 0) {
      log.textContent = 'No tokens found.';
      return;
    }

    // Compute buzz
    const now = Date.now();
    const output = tokens.slice(0, 20).map(t => {
      const ageHours = t.createdAt ? (now - new Date(t.createdAt)) / 3600000 : 1;
      const buzz = (t.volume || 0) / ageHours;
      return `${t.name || 'N/A'} (${t.symbol || 'N/A'}) | Volume: ${t.volume || 0} | Buzz: ${buzz.toFixed(2)}`;
    });

    log.textContent = output.join('\n');
  } catch(e) {
    console.error(e);
    log.textContent = 'Error fetching tokens.';
  }
}

// Initial fetch
fetchTokens();

// Auto-refresh every 30 seconds
setInterval(fetchTokens, 30000);
</script>

</body>
</html>
